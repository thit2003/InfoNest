{"ast":null,"code":"const linkifyIt = require('linkify-it');\nconst engine = linkifyIt().tlds(['au']) // ensure .au recognized\n.add('mailto:', 'mailto:').add('tel:', 'tel:');\n\n// Map exact URLs to a nicer label if desired\nconst KNOWN_LABELS = {\n  'https://registrar.au.edu/news/all/': 'Registrar News & Updates'\n};\nfunction escapeHtml(s) {\n  return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n}\n\n// Returns safe (not yet sanitized) HTML with <a> tags inserted\nfunction linkifyText(text) {\n  if (!text) return '';\n  const matches = engine.match(text);\n  if (!matches) return escapeHtml(text);\n  let lastIndex = 0;\n  let out = '';\n  for (const m of matches) {\n    // preceding text\n    out += escapeHtml(text.slice(lastIndex, m.index));\n    lastIndex = m.lastIndex;\n    const url = m.url;\n    const label = escapeHtml(KNOWN_LABELS[url] || url);\n    out += `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"chat-link\">${label}</a>`;\n  }\n  out += escapeHtml(text.slice(lastIndex));\n  return out;\n}\nmodule.exports = {\n  linkifyText\n};","map":{"version":3,"names":["linkifyIt","require","engine","tlds","add","KNOWN_LABELS","escapeHtml","s","replace","linkifyText","text","matches","match","lastIndex","out","m","slice","index","url","label","module","exports"],"sources":["C:/Users/Thit Lwin Win Thant/Downloads/InfoNest/InfoNest-Frontend/src/utils/linkify.js"],"sourcesContent":["const linkifyIt = require('linkify-it');\r\n\r\nconst engine = linkifyIt()\r\n  .tlds(['au'])   // ensure .au recognized\r\n  .add('mailto:', 'mailto:')\r\n  .add('tel:', 'tel:');\r\n\r\n// Map exact URLs to a nicer label if desired\r\nconst KNOWN_LABELS = {\r\n  'https://registrar.au.edu/news/all/': 'Registrar News & Updates'\r\n};\r\n\r\nfunction escapeHtml(s) {\r\n  return s\r\n    .replace(/&/g,'&amp;')\r\n    .replace(/</g,'&lt;')\r\n    .replace(/>/g,'&gt;')\r\n    .replace(/\"/g,'&quot;')\r\n    .replace(/'/g,'&#39;');\r\n}\r\n\r\n// Returns safe (not yet sanitized) HTML with <a> tags inserted\r\nfunction linkifyText(text) {\r\n  if (!text) return '';\r\n  const matches = engine.match(text);\r\n  if (!matches) return escapeHtml(text);\r\n\r\n  let lastIndex = 0;\r\n  let out = '';\r\n  for (const m of matches) {\r\n    // preceding text\r\n    out += escapeHtml(text.slice(lastIndex, m.index));\r\n    lastIndex = m.lastIndex;\r\n    const url = m.url;\r\n    const label = escapeHtml(KNOWN_LABELS[url] || url);\r\n    out += `<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"chat-link\">${label}</a>`;\r\n  }\r\n  out += escapeHtml(text.slice(lastIndex));\r\n  return out;\r\n}\r\n\r\nmodule.exports = { linkifyText };"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,YAAY,CAAC;AAEvC,MAAMC,MAAM,GAAGF,SAAS,CAAC,CAAC,CACvBG,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAG;AAAA,CACfC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CACzBA,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC;;AAEtB;AACA,MAAMC,YAAY,GAAG;EACnB,oCAAoC,EAAE;AACxC,CAAC;AAED,SAASC,UAAUA,CAACC,CAAC,EAAE;EACrB,OAAOA,CAAC,CACLC,OAAO,CAAC,IAAI,EAAC,OAAO,CAAC,CACrBA,OAAO,CAAC,IAAI,EAAC,MAAM,CAAC,CACpBA,OAAO,CAAC,IAAI,EAAC,MAAM,CAAC,CACpBA,OAAO,CAAC,IAAI,EAAC,QAAQ,CAAC,CACtBA,OAAO,CAAC,IAAI,EAAC,OAAO,CAAC;AAC1B;;AAEA;AACA,SAASC,WAAWA,CAACC,IAAI,EAAE;EACzB,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;EACpB,MAAMC,OAAO,GAAGT,MAAM,CAACU,KAAK,CAACF,IAAI,CAAC;EAClC,IAAI,CAACC,OAAO,EAAE,OAAOL,UAAU,CAACI,IAAI,CAAC;EAErC,IAAIG,SAAS,GAAG,CAAC;EACjB,IAAIC,GAAG,GAAG,EAAE;EACZ,KAAK,MAAMC,CAAC,IAAIJ,OAAO,EAAE;IACvB;IACAG,GAAG,IAAIR,UAAU,CAACI,IAAI,CAACM,KAAK,CAACH,SAAS,EAAEE,CAAC,CAACE,KAAK,CAAC,CAAC;IACjDJ,SAAS,GAAGE,CAAC,CAACF,SAAS;IACvB,MAAMK,GAAG,GAAGH,CAAC,CAACG,GAAG;IACjB,MAAMC,KAAK,GAAGb,UAAU,CAACD,YAAY,CAACa,GAAG,CAAC,IAAIA,GAAG,CAAC;IAClDJ,GAAG,IAAI,YAAYI,GAAG,iEAAiEC,KAAK,MAAM;EACpG;EACAL,GAAG,IAAIR,UAAU,CAACI,IAAI,CAACM,KAAK,CAACH,SAAS,CAAC,CAAC;EACxC,OAAOC,GAAG;AACZ;AAEAM,MAAM,CAACC,OAAO,GAAG;EAAEZ;AAAY,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}